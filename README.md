RiverFlow - Stack Overflow Clone (Backend & Logic)RiverFlow is a full-stack Q&A platform built with Next.js and Appwrite. This repository focuses on the robust backend architecture, database relationships, and type-safe data fetching logic required for a modern community platform.üöÄ Technical StackFramework: Next.js (App Router)Backend as a Service (BaaS): Appwrite (Databases, Auth, Storage, and Avatars)Language: TypeScript (Strict Mode)Styling & UI Components: Tailwind CSS, Aceternity UI, and Magic UIüèóÔ∏è Backend Architecture & SchemaThe backend is structured around four primary collections in Appwrite to handle complex relational data:CollectionDescriptionKey RelationshipsQuestionsStores user-submitted problems, titles, and tags.Linked to AuthorId and AttachmentId.AnswersStores solutions to questions.Linked to QuestionId and AuthorId.VotesTracks upvotes/downvotes for both questions and answers.Linked to Type and TypeId.CommentsHandles threaded discussions on questions and answers.Linked to TypeId and AuthorId.üõ†Ô∏è Key Features ImplementedRelational Data Mapping: Implemented complex Promise.all logic to merge Appwrite Documents with User data, calculating total votes and answers on the fly.Type-Safe Database Interacting: Defined custom TypeScript interfaces (e.g., QuestionDocument, AnswerDocument) to extend Appwrite's base models, ensuring full type safety across custom fields.Unified Voting System: A centralized API logic to handle upvoting and downvoting with real-time state updates.File Attachment Pipeline: Integrated Appwrite Storage for image uploads within questions, including automated cleanup of old files during updates.Rich Text Integration: Configured Markdown support for professional-grade technical writing.üîß Getting StartedPrerequisitesNode.js 18+An Appwrite Cloud account or local instance.InstallationClone the repo:Bashgit clone https://github.com/your-username/riverflow-backend.git
Install dependencies:Bashnpm install
Environment Variables: Create a .env file and add your Appwrite credentials:Code snippetNEXT_PUBLIC_APPWRITE_ENDPOINT="https://cloud.appwrite.io/v1"
NEXT_PUBLIC_APPWRITE_PROJECT_ID="your_project_id"
APPWRITE_DATABASE_ID="your_db_id"
# Add other Collection and Bucket IDs...
üìù Troubleshooting Resolved IssuesNextRouter Error: Updated all navigation logic to use next/navigation for compatibility with the App Router.TypeScript Document Casting: Resolved "Property X does not exist on type Document" by implementing strict interfaces for custom schema fields.Module Pathing: Standardized @/ aliases and resolved component import conflicts.
